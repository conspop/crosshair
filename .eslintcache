[{"/Users/Seb/Desktop/crosshair/src/index.js":"1","/Users/Seb/Desktop/crosshair/src/App.js":"2","/Users/Seb/Desktop/crosshair/src/reportWebVitals.js":"3","/Users/Seb/Desktop/crosshair/src/utils/userService.js":"4","/Users/Seb/Desktop/crosshair/src/pages/LoginPage.jsx":"5","/Users/Seb/Desktop/crosshair/src/utils/tokenService.js":"6","/Users/Seb/Desktop/crosshair/src/pages/GamesPage.jsx":"7","/Users/Seb/Desktop/crosshair/src/pages/SignupPage.jsx":"8","/Users/Seb/Desktop/crosshair/src/pages/GamePage.jsx":"9","/Users/Seb/Desktop/crosshair/src/components/Board.jsx":"10","/Users/Seb/Desktop/crosshair/src/components/Card.jsx":"11","/Users/Seb/Desktop/crosshair/src/components/Hand.jsx":"12","/Users/Seb/Desktop/crosshair/src/components/Scoreboard.jsx":"13","/Users/Seb/Desktop/crosshair/src/pages/LobbyPage.jsx":"14","/Users/Seb/Desktop/crosshair/src/components/Header.jsx":"15","/Users/Seb/Desktop/crosshair/src/pages/HowToPlayPage.jsx":"16","/Users/Seb/Desktop/crosshair/src/pages/LeaderboardPage.jsx":"17"},{"size":539,"mtime":1610985852632,"results":"18","hashOfConfig":"19"},{"size":2455,"mtime":1611610382398,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":1610488388300,"results":"21","hashOfConfig":"19"},{"size":1040,"mtime":1611147455647,"results":"22","hashOfConfig":"19"},{"size":1587,"mtime":1611086665739,"results":"23","hashOfConfig":"19"},{"size":756,"mtime":1610982686333,"results":"24","hashOfConfig":"19"},{"size":3271,"mtime":1611576825253,"results":"25","hashOfConfig":"19"},{"size":1896,"mtime":1611086782366,"results":"26","hashOfConfig":"19"},{"size":4678,"mtime":1611612774060,"results":"27","hashOfConfig":"19"},{"size":3007,"mtime":1611180334927,"results":"28","hashOfConfig":"19"},{"size":1060,"mtime":1611180095559,"results":"29","hashOfConfig":"19"},{"size":487,"mtime":1611499941992,"results":"30","hashOfConfig":"19"},{"size":2055,"mtime":1611667719091,"results":"31","hashOfConfig":"19"},{"size":3831,"mtime":1611667517625,"results":"32","hashOfConfig":"19"},{"size":973,"mtime":1611666996026,"results":"33","hashOfConfig":"19"},{"size":1994,"mtime":1611667701447,"results":"34","hashOfConfig":"19"},{"size":1310,"mtime":1611667439254,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"y49hl1",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/Seb/Desktop/crosshair/src/index.js",[],["72","73"],"/Users/Seb/Desktop/crosshair/src/App.js",[],"/Users/Seb/Desktop/crosshair/src/reportWebVitals.js",[],"/Users/Seb/Desktop/crosshair/src/utils/userService.js",[],"/Users/Seb/Desktop/crosshair/src/pages/LoginPage.jsx",[],"/Users/Seb/Desktop/crosshair/src/utils/tokenService.js",[],"/Users/Seb/Desktop/crosshair/src/pages/GamesPage.jsx",[],"/Users/Seb/Desktop/crosshair/src/pages/SignupPage.jsx",[],"/Users/Seb/Desktop/crosshair/src/pages/GamePage.jsx",["74"],"import React, { useState, useEffect, useCallback } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport tokenService from '../utils/tokenService'\nimport './GamePage.css'\nimport Board from '../components/Board'\nimport Hand from '../components/Hand'\nimport Scoreboard from '../components/Scoreboard'\n\nexport default function GamePage({user, logout}) {\n  const {gameId} = useParams()\n\n  const [id, setId] = useState('')\n  const [board, setBoard] = useState(Array(25).fill(''))\n  const [player, setPlayer] = useState('')\n  const [hand, setHand] = useState(Array(12).fill(''))\n  const [opponent, setOpponent] = useState('')\n  const [turn, setTurn] = useState('')\n  const [scoreboard, setScoreboard] = useState('')\n  const [selected, setSelected] = useState('')\n  const [lastPlayed, setLastPlayed] = useState('')\n\n  const refresh = useCallback(() => {\n    axios.get(`/api/games/${gameId}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + tokenService.getToken()\n      }\n    })\n    .then(response => {\n      const dataPlayer = response.data.game.playerOneName === user.username ? true : false\n      setId(response.data.game._id)\n      setBoard(response.data.game.board)\n      setPlayer(dataPlayer)\n      setHand(dataPlayer ? response.data.game.playerOneHand : response.data.game.playerTwoHand)\n      setOpponent(dataPlayer ? response.data.game.playerTwoName : response.data.game.playerOneName)\n      setTurn(response.data.game.turn)\n      setScoreboard(response.data.game.scoreboard)\n      setLastPlayed(response.data.game.lastPlayed)\n      if (response.data.version !== user.version) {\n        axios.post('/api/games/updateVersion', {token: tokenService.getToken()})\n        .then(() => {\n          window.location.reload()\n          logout()\n        })\n        .catch(error => {console.log(error.message)})\n      }\n      \n    })\n    .catch(() => console.log('Something went wrong!'))\n  },[gameId, user.username])\n\n  // get game data when component first loads\n  useEffect(() => {\n    refresh()\n  },[refresh])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (player !== turn) {\n        refresh()\n      }\n    }, 1000)\n    return () => clearInterval(interval)\n  })\n\n  useEffect(() => {\n    let vh = window.innerHeight * 0.01\n    let appContainerEl = document.querySelector('.app-container')\n    appContainerEl.style.setProperty('--vh', `${vh}px`)\n\n    window.addEventListener('resize', () => {\n      let resizedVh = window.innerHeight * 0.01\n      appContainerEl.style.setProperty('--vh', `${resizedVh}px`)\n    })\n  },[])\n\n  const handleSelect = (event) => {\n    const index = parseInt(event.currentTarget.dataset.index)\n    if (player === turn) {\n      if (selected === index) {\n        setSelected('')\n      } else {\n        setSelected(parseInt(index))\n      }\n    }\n  }\n\n  const handlePlayCard = (event) => {\n    const index = parseInt(event.currentTarget.dataset.index)\n    if (board[index] === '') {\n      if (selected || selected === 0) {\n        // remove card from hand\n        const oldHand = [...hand]\n        const newHand = [...hand]\n        const playedCard = newHand.splice(selected,1)\n        setHand(newHand)\n  \n        // add card to board\n        const oldBoard = [...board]\n        const newBoard = [...board]\n        newBoard[index] = playedCard[0]\n        setBoard(newBoard)\n        \n        setTurn(turn => !turn)\n        setSelected('')\n        setLastPlayed(index)\n  \n        const updateObject = {\n          token: tokenService.getToken(),\n          id,\n          [player ? 'playerOneHand' : 'playerTwoHand']: newHand,\n          board: newBoard,\n          lastPlayed: index\n        }\n  \n        axios.put('/api/games', updateObject)\n        .then(() => {console.log('Updated game!')})\n        .catch(() => {\n          console.log('Something went wrong!')\n          setHand(oldHand)\n          setBoard(oldBoard)\n          setTurn(turn => !turn)\n          setLastPlayed('')\n        })\n      }\n    }\n  }\n\n  return (\n    <>\n      <div className='game-container'>\n        {scoreboard ? '' : <Turn player={player} turn={turn} opponent={opponent} />}\n        <Board board={board} player={player} handlePlayCard={handlePlayCard} lastPlayed={lastPlayed} />\n        {scoreboard ? <Scoreboard scoreboard={scoreboard} player={player} user={user} opponent={opponent} /> : <Hand hand={hand} selected={selected} handleSelect={handleSelect} />}\n      </div>\n    </>\n  )\n\n}\n\nfunction Turn({player, turn, opponent}) {\n  if (player === turn) {\n    return <div className='turn'>Your Turn</div>\n  } else {\n    return <div className='turn'>{opponent}'s Turn</div>\n  }\n}","/Users/Seb/Desktop/crosshair/src/components/Board.jsx",[],"/Users/Seb/Desktop/crosshair/src/components/Card.jsx",[],"/Users/Seb/Desktop/crosshair/src/components/Hand.jsx",[],"/Users/Seb/Desktop/crosshair/src/components/Scoreboard.jsx",[],"/Users/Seb/Desktop/crosshair/src/pages/LobbyPage.jsx",[],"/Users/Seb/Desktop/crosshair/src/components/Header.jsx",[],"/Users/Seb/Desktop/crosshair/src/pages/HowToPlayPage.jsx",["75"],"/Users/Seb/Desktop/crosshair/src/pages/LeaderboardPage.jsx",[],{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","severity":1,"message":"81","line":51,"column":5,"nodeType":"82","endLine":51,"endColumn":28,"suggestions":"83"},{"ruleId":"84","severity":1,"message":"85","line":25,"column":71,"nodeType":"86","endLine":25,"endColumn":147},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'logout' and 'user.version'. Either include them or remove the dependency array. If 'logout' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["89"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},"Update the dependencies array to be: [gameId, logout, user.username, user.version]",{"range":"92","text":"93"},[1973,1996],"[gameId, logout, user.username, user.version]"]